<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Census Project - A Pictorial Odyssey :)</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="static/css/style.css">

</head>
<body>

    <body class="bg-dark"></body>

    <div class="wrapper">

        <nav class="navbar navbar-dark bg-dark navbar-expand-lg">
            <!--Avatar created by Amanda using: https://avatarmaker.com/-->
            <a class="navbar-brand" href="index.html">Fab 5: Anton, Amanda, Elise, Sharon, & Lina</a>
        </nav>
    </div>


    <div class="jumbotron">
        <h1 class="display-4">  </h1>
      </div>

    <!-- I consulted the text animator here to get the text to animate and also added that to the CSS style sheet in the other file with other colors: https://codepen.io/alvarotrigo/pen/PoKMyNO-->
    <div class="container-fluid">
        <div class="row"> 
            <div class="col-md-3">
                <h3 class="animate-charcter"> Welcome to the Census 1994 Adult Dataset!</h3>
                
                <br /><br /> 
                <br /><br /> 
                Here, you can see the overview trends of our 1994 data in Tableau.

                <br /><br /> 

                Age has the highest correlation to high/low 1994 income at 0.32.  This visualization shows that the average age of respondents in the high income group was 44, while it was 34 in the low income group. 
                <br /><br />
                The next highest correlation is relationship at 0.16.  Marital Status, a similar variable, was 0.14.  The underlying variable, sex, which only had a correlation of 0.02 may have accounted for this slight difference. 
                <br /><br /> 
                Educational Attainment had a correlation of 0.14.  Education levels vary across country of origin; however, higher earners in our U.S. dataset tended to have college degrees, whereas lower income earners tended to not have college degrees.
                <br /><br /> 
                Although race is not well correlated to income, our dataset had a preponderance of white people.
                <br /><br /> 
                Higher income earners tended to have more capital gains, which stands to reason.
                <br /><br /> 
                Low income earners worked 39 hours per week on average, while higher income earners worked 45.5 hours per week on average.
                

                <br /><br />               
                <br /><br /> 
                <br /><br />
                <br /><br />
                <br /><br />
                <br /><br />
                
               
                <p style="text-align:center;"><img src="static/images/GraphAge.png" alt="Graph"></p>
                
                <br /><br /> 
                <br /><br /> 
                <br /><br />
                
                <p style="text-align:center;"><img src="static/images/GraphRace.png" alt="Graph"></p>

                <br /><br /> 
                <br /><br /> 

                
                <p style="text-align:center;"><img src="static/images/GraphEd.png" alt="Graph"></p>


                <br /><br /> 
                <br /><br /> 
                <br /><br /> 
                <br /><br /> 

                <p style="text-align:center;"><img src="static/images/GraphOccupation.png" alt="Graph"></p>

                <br /><br /> 
            


                <p style="text-align:center;"><img src="static/images/GraphSector.png" alt="Graph"></p>

                <br /><br /> 
                <br /><br /> 


                <p style="text-align:center;"><img src="static/images/GraphRelationship.png" alt="Graph"></p>

                <br /><br /> 
                <br /><br /> 

                <p style="text-align:center;"><img src="static/images/GraphGender.png" alt="Graph"></p>

                <br /><br /> 
                

                <p>
                    <font size="6" face="arial" color="chartreuse">
                      ... View the Top 100 Highest "Fnlwgt" Records Below!
                    </font>
                    </p>
                
                <iframe width="1500" height="700" frameborder="0" scrolling="no" src="https://onedrive.live.com/embed?resid=8D35D385153BEB00%21110&authkey=%21AHGqKYNTf3Xjjmk&em=2&AllowTyping=True&ActiveCell='Top100%20Final_Wgt%20Records'!A1&wdDownloadButton=True&wdInConfigurator=True&wdInConfigurator=True&edesNext=false&resen=false"></iframe>
                
                <br /><br /> 

                <p>
                    <font size="6" face="arial" color="chartreuse">
                      ... View the ERD Diagram of the Database!
                    </font>
                    </p>
                <p style="text-align:center;"><img src="static/images/ERDdiagram.png" alt="Graph"></p>





                 

                <p style="text-align:center;"><img src="static/images/WebDivider.png" alt="WebDivider"></p>

                <h3 class="animate-charcter"> Welcome to the Modern- Day Income!</h3>

                <script type="text/javascript" id="WolframAlphaScript81c6a9ed0bec2099c9617b57b993d4c9" src="//www.wolframalpha.com/widget/widget.jsp?id=81c6a9ed0bec2099c9617b57b993d4c9"></script>
                <a href="https://www.wolframalpha.com/widgets/view.jsp?id=81c6a9ed0bec2099c9617b57b993d4c9">CPI Widget</a>
                
                <br /><br /> 
                <br /><br /> 

                <script type="text/javascript" id="WolframAlphaScripta3c36d0c741ddabbdb44b35a4fbebcb4" src="//www.wolframalpha.com/widget/widget.jsp?id=a3c36d0c741ddabbdb44b35a4fbebcb4"></script>           
                <a href="https://www.wolframalpha.com/widgets/gallery/view.jsp?id=a3c36d0c741ddabbdb44b35a4fbebcb4">Occupation Comparison Widget</a>
                 

                <br /><br /> 

                
                <p style="text-align:left;"><img src="static/images/GraphTodayDisparity.png" alt="Disparity"></p>
                <p style="text-align:left;"><a href="https://www.cbpp.org/research/poverty-and-inequality/a-guide-to-statistics-on-historical-trends-in-income-inequality">Income Gains in Each Bracket</a>

                <br /><br />
                <br /><br />
                
                

            </div>
            <div class="col-md-8">
                <p> 
                    <!--Check out our Tableau.-->
                    <img src="static/images/census_data_education_WordCloud.png" alt="WordCloud"
                    width="800" 
                    height="500" />


                    <br /><br />
                    <div class='tableauPlaceholder' id='viz1667105199251' style='position: relative'><noscript><a href='#'><img alt='Dashboard 1 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Fi&#47;FinalProject_16668222456730&#47;Dashboard1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='FinalProject_16668222456730&#47;Dashboard1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Fi&#47;FinalProject_16668222456730&#47;Dashboard1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /></object></div>                
                    <script type='text/javascript'>                    
                    var divElement = document.getElementById('viz1667105199251');                    
                    var vizElement = divElement.getElementsByTagName('object')[0];                    
                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1000px';vizElement.style.height='827px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1000px';vizElement.style.height='827px';} else { vizElement.style.width='100%';vizElement.style.height='2127px';}                     
                    var scriptElement = document.createElement('script');                    
                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    
                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                    <a href='https://public.tableau.com/views/FinalProject_16668222456730/Dashboard1?:language=en-US&:display_count=n&:origin=viz_share_link'>View more graphics on Tableau!</a> 
                    
                    <br /><br /> 
                    <br /><br /> 
                    <p>
                        <font size="6" face="arial" color="chartreuse">
                          ...  A Few Key Take-aways about the 1994 Dataset!
                        </font>
                        </p>
                    <p style="text-align:center;"><img src="static/images/AgeStory.png" alt="AgeStory"></p>

                    <p style="text-align:center;"><img src="static/images/AvgEducationStory.png" alt="EducationStory"></p>
                    
                    <p style="text-align:center;"><img src="static/images/SectorOccupationStory.png" alt="Occupation"></p>

                    <p style="text-align:center;"><img src="static/images/MaritalStatusStory.png" alt="Marital"></p>

                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br />                 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br />                 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br />                     
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br />                 
                    <br /><br /> 
                    <br /><br /> 
                    <br /><br /> 

                    
                    
                     
                    <p>
                        <font size="6" face="arial" color="chartreuse">
                          ...  In the past 28 years, wages have very much inflated!
                        </font>
                        </p>
                    <img src="static/images/WageInflation.png" alt="WorthToday"
                    width="800" 
                    height="500" />
                    
                    <p style="text-align:center;"></p><a href="https://www.in2013dollars.com/us/inflation/1994?amount=50000">See what the wage is worth today!</a>
                    
                    <br /><br />
                  
                    
                    <script type="text/javascript" id="WolframAlphaScript3d32671106c72ce81a7303b3453d03c9" src="//www.wolframalpha.com/widget/widget.jsp?id=3d32671106c72ce81a7303b3453d03c9"></script>
                    
                    <p style="text-align:center;"><a href="https://www.wolframalpha.com/widgets/gallery/view.jsp?id=3d32671106c72ce81a7303b3453d03c9">Type in Any Job!</a>
                   
                    <br /><br />
                    <br /><br />
                  
                    <p style="text-align:center;"><img src="static/images/GraphTodayMaritalAge.png" alt="MarriedAge"></p>
                    <a href="https://www.cnbc.com/2018/09/21/married-men-are-earning-much-more-money-than-everyone-else-in-america.html"><p style="text-align:center;">See how age and marital status continue to be important today!</a></p>
                            
                    <br /><br />
                    <br /><br />
                        
                    <p style="text-align:center;"><img src="static/images/GraphTodayEducation.png" alt="Education"></p>
                    <p style="text-align:center;"><a href="https://sgp.fas.org/crs/misc/R45090.pdf">Real Wage Trends 1979 to 2019</a>
                    
                    <br /><br />
                    <br /><br />

                    <p style="text-align:center;"><img src="static/images/GraphTodayEducationWages.png" alt="EducationWages"></p>
                    <p style="text-align:center;"><a href="https://sgp.fas.org/crs/misc/R45090.pdf">Real Wage Trends 1979 to 2019</a>
                    
                    <br /><br />
                    <br /><br />

                    <p style="text-align:center;"><img src="static/images/GraphTodayMedianWage.png" alt="MedianWage"></p>
                    <p style="text-align:center;"><a href="https://sgp.fas.org/crs/misc/R45090.pdf">Real Wage Trends 1979 to 2019</a>

                    <br /><br />
                    <br /><br />



                    <p>
                        <font size="6" face="arial" color="chartreuse">
                          ...  Select Countries in Average U.S. Dollars Today!
                        </font>
                        </p>
                    
                    <div class='tableauPlaceholder' 
                    id='viz1667262257238' 
                    style='position: relative'><noscript><a href='#'><img alt='Income comparison in US Dollars ' 
                    src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;In&#47;Income_Comparison_US_Dollars&#47;IncomecomparisoninUSDollars&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='Income_Comparison_US_Dollars&#47;IncomecomparisoninUSDollars' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;In&#47;Income_Comparison_US_Dollars&#47;IncomecomparisoninUSDollars&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>                
                    <script type='text/javascript'>                    
                    var divElement = document.getElementById('viz1667262257238');                    
                    var vizElement = divElement.getElementsByTagName('object')[0];                    
                    vizElement.style.width='1016px';vizElement.style.height='991px';                    
                    var scriptElement = document.createElement('script');                    
                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    
                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                
                    </script>

                <a href="https://stats.oecd.org/index.aspx?queryid=66670">Derived from OECD data</a>
                    
<br /><br />


                </p>
            </div>
        </div>    
    </div>


        
                <p style="text-align:center;"><img src="static/images/WebDivider.png" alt="WebDivider"></p>                               

                <h3 class="animate-charcter"> Machine Learning</h3>
                <p>
                    <font size="6" face="arial" color="chartreuse">
                        Description of preliminary feature engineering and preliminary feature selection, including their decision-making process
                    </font>
                    </p>

The outcome variable was income level, which was either above or below $50K, so we knew that this would lend itself the most to supervised machine learning.
Description of how data was split into training and testing sets.  We set "iter" to 500. The outcome variable is the income level variable (whether it would be above or below $50,000).
We opted to stratify, because this stratify parameter splits it so that the proportion of values in the resulting sample will be the same as the proportion of values given to parameter stratify. In the first attempt at machine learning, we set up six different supervised models, which were: Cluster Centroids, SMOTEENN, Naive Random Oversampling, SMOTE, Balanced Random Forest Classifier, and the Easy Ensemble with Adaptive Boost. We selected almost all of the predictor variables in this first attempt to use as a baseline, which included: age, relationship, education category level, marital status, occupation, working class (AKA sector), race, and sex because they had a relevance of at least 0.02 to the model.
We did not include capital gains/loss because few records contained values in those columns, and the records that did contain values (particularly for capital gains) had substantially large values, which could have thrown off the model with outliers.
In addition, the average hours worked in both groups was relatively comparable overall.

<br /><br />
<p style="text-align:center;"><img src="static/images/VariableCorrelations.png" alt="Printout"></p>

<br /><br />

    <p>
    <font size="6" face="arial" color="chartreuse">
        First Attempt
    </font>
    </p>

The end result of the first attempt was that the best overall model was the Easy Ensemble with Adaptive Boost, which we believed had the highest balanced accuracy because it avoids overfitting (which could be useful if future Census samples are taken and added to this dataset) and it tends to learn the best from the weaker classifiers. Since we eliminated some of the anticipated noise and outliers, it seemed like this model was the most logical contender at outset.
The variables in descending order of importance to the model were: age, relationship, and educational level as among the most relevant.
Since race and sex were lowest-scoring, we planned to get rid of them on our second machine learning attempt; however, we were aware that sometimes variables can be statistically significant, but they simply had low “say” on the model. Therefore, we did not anticipate that the Easy Ensemble with Adaptive Boost would perform any better on the second attempt, but we did want to see if other models could outperform it on the second attempt.

<br /><br />

<p>
    <font size="6" face="arial" color="chartreuse">
        Models Eliminated by First Attempt
    </font>
    </p>

<p style="text-align:center;"><img src="static/images/Attempt1EliminatedModels.jpg" alt="Graph"></p>

<br /><br />

<p>
    <font size="6" face="arial" color="chartreuse">
        Model Selected for Use in First Attempt: Easy Ensemble with Adaptive (Ada) Boost
    </font>
    </p>

    <p>
        <center><font size="4" face="arial" color="yellow">
            Balanced Accuracy: 0.8050432225910351 or 80.50%
            <br /><br />
            Precision: 94% for <$50k outcomes
            <br /><br />
            Recall: 76% of <$50k outcomes were found
            <br /><br />
        </font></center>
        </p>


<p style="text-align:center;"><img src="static/images/Attempt1SelectedModel.jpg" alt="Graph"></p>
<p style="text-align:center;"><img src="static/images/Attempt1Confusion.jpg" alt="Graph"></p>

<br /><br />

<p>
    <font size="6" face="arial" color="chartreuse">
        Second Attempt
    </font>
    </p>

    <p>
        <font size="4" face="arial" color="yellow">
            On the second attempt, we removed race and sex from the models, but this set of models performed worse across the board, so we reverted to the original model.
        </font>
        </p>
 

<br /><br />

<p>
    <font size="6" face="arial" color="chartreuse">
        Third Attempt: Exploration of feature combinations
    </font>
    </p>

                <p>
                    <font size="4" face="arial" color="yellow">
                        By breaking up the dataset and using different combinations of features, we hoped to see different trends and patterns in our data. The key important features that were considered in this analysis were Education, Sex, and Marital Status. The emphasis was put on being able to predict whether or not an individual was making <$50k, so only the classification report for outcomes labeled "0" was analyzed.

                    </font>
                    </p>
                
                    <p>
                        <font size="5" face="arial" color="aqua">
                            <center>Education</center>
                        </font>
                        </p>
                                          
                    <p style="text-align:center;"><img src="static/images/Attempt3Education.png" alt="Printout"></p>
                    While the accuracy of these models was the same, the < high school set had an almost perfect precision of 97% when looking at <$50k outcomes, at the cost of poor precision for >$50k outcomes. This pattern will be seen consistently, with a possible explanation being that most <$50k outcomes end up in the < high school demographic.
                    <br /><br />
                    
                    <p>
                        <font size="5" face="arial" color="aqua">
                            <center>Marital Status</center>
                        </font>
                        </p>

                    <p style="text-align:center;"><img src="static/images/Attempt3MaritalStatus.png" alt="Printout"></p>
                    This faces a similar situation to the education split, where the single dataset had great performance for prediction <$50 outcomes, but the married dataset had a ~70% rate for predicting all outcomes. Since "Single" was counted as "has never married" while "Married" was counted as "at one point was married", it is possible that young people overwhelmingly belong to the single group, and have great representation there.

                    <br /><br />
                    
                    <p>
                        <font size="5" face="arial" color="aqua">
                           <center>Sex</center>
                        </font>
                        </p>

                    <p style="text-align:center;"><img src="static/images/Attempt3Sex.png" alt="Printout"></p>
                    A matter of note with the "single" classifications is that the sample sizes were starting to get relatively small, but useful information trends are still possible to retrieve from them. The most interesting matter of note is with the married female demographic. This subset had an unusually low accuracy, and we believe this to be attributed to the time in which this dataset was collected. Since this is from the USA in 1994, the general social attitude was for young women to play a smaller role in the workforce compared to the more equal roles of today. Therefore, with the married female dataset, more members of the dataset could have less influence of their income compared to the members of the married male dataset, where more of the members were focused on making money.

                    <br /><br />   

                        <p>
                        <font size="5" face="arial" color="aqua">
                           <center>Combined</center>
                        </font>
                        </p>

                        
                    <p style="text-align:center;"><img src="static/images/Attempt3Combined.png" alt="Printout"></p>
 
                    With the models and analysis gained from working on this dataset, it may become necessary to compare it to other datasets, either from around the world or from a different time. Therefore, two subsets of the data were made that focus only on key demographic features. When looking at only the members' Age, Race, and Sex, we see a 70% accuracy for results. This is an incredible "at a glance" rate that allows us to compare this to most other datasets from other sources, since these features are almost certain to be included. Another analysis was done by also including Education into the aformentioned cluster, raising the accuracy up to nearly 75%.
                    <br /><br />
                    <br /><br />

                <h3 class="animate-charcter"> Future Directions</h3>
                <br /><br /> 

                <p>
                    <font size="3" face="arial" color="yellow">
                        <ul>
                            <li>We answered the question well of the factors that could lead Americans to make at or below $50K per year in 1994.  
                            </li>
                            <br /><br /> 
                            <li>The machine learning model had some notions of the factors that could lead Americans to make above $50K 
                                per year in 1994; 
                                however, this would be better in the future as a regression study that goes back to the original 
                                education number column from the original dataset and uses that as the benchmark of education.</li>
                                <br /><br /> 
                            <li>In addition, capital gains and losses should be used more meaningfully in the future. </li>
                            <br /><br /> 
                            <li>With more recent data samples, this project would have been better as more of a time series to see the variables' performances over time. 
                            </li>
                        </ul>
                    </font>
                    </p>



                
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-3">


                           
      

    <!--End-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.js"></script>
    <script src="static/js/census_data_education.csv"></script>
    <script src="static/js/app.js"></script>
</body>
</html>